# ๐ ุฏููู ุงุณุชุฎุฏุงู ุดุจูุฉ ุงูุชูููู (Assessment Grid)

## โจ ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

- โ **ุชุตููู RTL ูุงูู** (ูู ุงููููู ุฅูู ุงููุณุงุฑ)
- โ **ูููุงุณ ูุญุฏุซ** (0 ุฅูู 10 ุจุฏูุงู ูู 0 ุฅูู 20)
- โ **ุชุตุฏูุฑ Excel ู PDF**
- โ **ุชูููู ุฐูู** ููููุงุท ุญุณุจ ุงูุฃุฏุงุก
- โ **ูุงุฌูุฉ ุงุณุชุฌุงุจูุฉ** ุชุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ูููุณุชุฎุฏู ุงูุนุงุฏู:

1. **ุงูุชูู ุฅูู ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุทูุงุจ:**
   ```
   ุชุทุจูู โ ุงูุทูุงุจ ูุงูุญุถูุฑ โ ุฅุฏุงุฑุฉ ุงูุทูุงุจ
   ```

2. **ุงุฎุชุฑ ูุณูุงู ูู ุงููุงุฆูุฉ ุงูุนูููุฉ:**
   ```
   [ุฌููุน ุงูุชูุงููุฐ] [ูุณู 1] [ูุณู 2] [ูุณู 3]
   ```

3. **ุณุชุธูุฑ ุดุจูุฉ ุงูุชูููู ุชููุงุฆูุงู:**
   ```
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ ุดุจูุฉ ุงูุชูููู - ุฌููุน ุงูุทูุงุจ (25) โ
   โ                                 โ
   โ [๐ ุชุญููู Excel] [๐ ุชุญููู PDF]โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   ```

4. **ุงุถุบุท ุนูู ุงูุฒุฑ ุงููุทููุจ:**
   - ๐ **Excel**: ููู Excel ุชูุงุนูู
   - ๐ **PDF**: ุชูุฑูุฑ ูุงุจู ููุทุจุงุนุฉ

---

## ๐ ูุธุงู ุงูุชุตููู ุงููููู

| ุงูููู | ุงููุทุงู | ุงูุชูููู | ุงููุนูู |
|------|--------|---------|--------|
| ๐ข ุฃุฎุถุฑ | 9-10 | ููุชุงุฒ | ุฃุฏุงุก ุงุณุชุซูุงุฆู โจ |
| ๐ก ุจุฑุชูุงูู ูุงุชุญ | 7-9 | ุฌูุฏ ุฌุฏุงู | ุฃุฏุงุก ุฌูุฏ ๐ |
| ๐ ุจุฑุชูุงูู | 5-7 | ุฌูุฏ | ุฃุฏุงุก ููุจูู ๐ |
| ๐ด ุฃุญูุฑ | <5 | ุถุนูู | ูุญุชุงุฌ ูุชุงุจุนุฉ โ๏ธ |

---

## ๐ ุงูุฃุนูุฏุฉ ุงููุนุฑูุถุฉ

### ุงูุชุฑุชูุจ (ูู ุงููููู ุฅูู ุงููุณุงุฑ):

```
โโโโโโฌโโโโโฌโโโโโโโโฌโโโโโโโโโฌโโโโโโโโโฌโโโโโโโฌโโโโโโโฌโโโโโโโ
โุฑูู โุฑูุฒ โุงูุงุณู  โุงูุงุณู   โุขุฎุฑ     โุนูุงุตุฑ โ ... โุงูููุทุฉโ
โ    โ    โุงูุดุฎุตู โุงูุนุงุฆูู โุชูููู  โุงูุชูููู   โ โุงูููุงุฆูุฉโ
โโโโโโผโโโโโผโโโโโโโโผโโโโโโโโโผโโโโโโโโโผโโโโโโโผโโโโโโโผโโโโโโโค
โ 1  โ A1 โุฃุญูุฏ  โูุญูุฏ   โ2025-11โ 9.5 โ 8.2 โ 8.83 โ
โ 2  โ A2 โูุงุทูุฉ โุนูู    โ2025-11โ 7.2 โ 8.5 โ 7.87 โ
โ 3  โ A3 โูุญููุฏ โุญุณู   โ2025-11โ 5.8 โ 6.3 โ 6.0  โ
โโโโโโดโโโโโดโโโโโโโโดโโโโโโโโโดโโโโโโโโโดโโโโโโโดโโโโโโโดโโโโโโโ
```

### ุดุฑุญ ุงูุฃุนูุฏุฉ:

- **ุฑูู**: ุฑูู ุงูุทุงูุจ ูู ุงููุณู (classOrder)
- **ุฑูุฒ**: ุฑูุฒ ุงููุณุงุฑ (pathwayNumber) - ูุซู A1, B2
- **ุงูุงุณู ุงูุดุฎุตู**: ุงูุงุณู ุงูุฃูู ููุทุงูุจ
- **ุงูุงุณู ุงูุนุงุฆูู**: ุงุณู ุงูุนุงุฆูุฉ
- **ุขุฎุฑ ุชูููู**: ุชุงุฑูุฎ ุขุฎุฑ ุชูููู ุฏุฎู
- **ุนูุงุตุฑ ุงูุชูููู**: ุงูุญุถูุฑุ ุงููุงุฌุจุ ุงูุฏูุชุฑุ ุงูุณูููุ ุฅูุฎ...
- **ุงูููุทุฉ ุงูููุงุฆูุฉ**: ุงููุฌููุน ุงูููู (0-10)

---

## ๐ป ูููุทูุฑูู

### ุงูุชุซุจูุช:

```bash
# ุชุซุจูุช ุงูููุชุจุงุช (ุชู ุจุงููุนู)
npm install pdfkit exceljs
```

### API Endpoints:

#### 1. ุงูุญุตูู ุนูู ุงูุจูุงูุงุช (JSON):
```bash
GET /api/sections/{sectionId}/assessment-grid

# ูุซุงู:
curl http://localhost:3000/api/sections/1758447797026/assessment-grid
```

**ุงูุฑุฏ:**
```json
{
  "sectionId": "1758447797026",
  "grid": [
    {
      "studentId": 123,
      "familyName": "ูุญูุฏ",
      "fullName": "ุฃุญูุฏ ูุญูุฏ",
      "pathwayNumber": "A1",
      "classOrder": 1,
      "latestAssessmentDate": "2025-11-04T10:30:00Z",
      "elementScores": {
        "attendance": 9.5,
        "homework": 8.2,
        "notebook": 8.8
      },
      "finalScore": 8.83
    }
  ],
  "generatedAt": "2025-11-04T14:22:15Z"
}
```

#### 2. ุชุญููู Excel:
```bash
GET /api/sections/{sectionId}/assessment-grid.xlsx

# ูุซุงู:
curl -O http://localhost:3000/api/sections/1758447797026/assessment-grid.xlsx
```

#### 3. ุชุญููู PDF:
```bash
GET /api/sections/{sectionId}/assessment-grid.pdf

# ูุซุงู:
curl -O http://localhost:3000/api/sections/1758447797026/assessment-grid.pdf
```

### ุงุณุชุฎุฏุงู ูู React:

```typescript
import AssessmentGridRTL from '../components/assessment/AssessmentGridRTL';

// ูู ุงูุตูุญุฉ:
<AssessmentGridRTL sectionId="1758447797026" />
```

### ุญุณุงุจ ุงูููุงุท ูุฏููุงู:

```typescript
// 1. ุชุทุจูุน ุงููููุฉ ุงูุฎุงู ุฅูู 0-10
function normalizeTo10(value: number): number {
  if (value <= 1) return value * 10;
  if (value <= 10) return value;
  if (value <= 100) return (value / 100) * 10;
  return Math.max(0, Math.min(10, value));
}

// 2. ุญุณุงุจ ูุนุงูู ุงูุชุญุฌูู
const maxScores = { attendance: 5, homework: 6, notebook: 4 };
const sumMax = 15;
const scaleFactor = 10 / sumMax;

// 3. ุชุทุจูู ุงูุชุญุฌูู
const scores = { attendance: 5, homework: 6, notebook: 4 };
const scaled = {
  attendance: normalizeTo10(scores.attendance) * scaleFactor,  // 3.33
  homework: normalizeTo10(scores.homework) * scaleFactor,     // 4.0
  notebook: normalizeTo10(scores.notebook) * scaleFactor      // 2.67
};
const finalScore = Math.min(10, Object.values(scaled).reduce((a,b) => a+b, 0)); // 10
```

---

## ๐ง ุงูุชุฎุตูุต

### ุชุบููุฑ ุงูุฃููุงู:

ูู `src/components/assessment/AssessmentGridRTL.tsx`:

```typescript
const getScoreColor = (score: number | null): string => {
  if (score === null) return '#999';
  if (score >= 9) return '#4caf50';   // ุฃุฎุถุฑ
  if (score >= 7) return '#ffb74d';   // ุจุฑุชูุงูู ูุงุชุญ
  if (score >= 5) return '#ff9800';   // ุจุฑุชูุงูู
  return '#f44336';                    // ุฃุญูุฑ
};
```

### ุชุฑุฌูุฉ ุงูุนูุงุตุฑ:

```typescript
const keyMap: { [key: string]: string } = {
  attendance: 'ุงูุญุถูุฑ',
  homework: 'ุงููุงุฌุจ',
  notebook: 'ุงูุฏูุชุฑ',
  behavior: 'ุงูุณููู',
  // ุฃุถู ุงููุฒูุฏ ุญุณุจ ุงูุญุงุฌุฉ
};
```

---

## ๐ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู

### 1. ูุชุงุจุนุฉ ุงูุทูุงุจ ุงูุถุนูุงุก:
```
ุงุจุญุซ ุนู ุงูุตููู ุงูุญูุฑุงุก (<5) ูุชุงุจุน ูุคูุงุก ุงูุทูุงุจ
```

### 2. ุชูุงุฑูุฑ ููุงูุฉ ุงููุชุฑุฉ:
```
1. ุงุฎุชุฑ ุงููุณู
2. ุงุถุบุท "ุชุญููู PDF"
3. ุงุทุจุน ุฃู ุฃุฑุณู ููุฅุฏุงุฑุฉ
```

### 3. ุชุญููู ุงูุฃุฏุงุก:
```
1. ุญููู Excel
2. ุงุณุชุฎุฏู ุงููุฑุดุญุงุช ูุงูุฑุณูู ุงูุจูุงููุฉ
3. ุงุจุญุซ ุนู ุงูุฃููุงุท ูุงูุงุชุฌุงูุงุช
```

### 4. ููุงูุขุช ุงูุทูุงุจ ุงููุชููููู:
```
ุงุจุญุซ ุนู ุงูุตููู ุงูุฎุถุฑุงุก (9-10) ููููุงูุขุช ูุงูุชุดุฌูุน
```

---

## โ๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ุชุธูุฑ ุดุจูุฉ ุงูุชูููู

**ุงูุญู:**
```
1. ุชุฃูุฏ ูู ุงุฎุชูุงุฑ ูุณู (ูุง ุชุชุฑู "ุฌููุน ุงูุชูุงููุฐ")
2. ุชุฃูุฏ ูู ูุฌูุฏ ุชููููุงุช ููุทูุงุจ ูู ุงููุณู
3. ุงูุชุธุฑ ููููุงู ูุชุญููู ุงูุจูุงูุงุช
```

### ุงููุดููุฉ: ุชุญููู Excel/PDF ูุง ูุนูู

**ุงูุญู:**
```
1. ุชุฃูุฏ ูู ุฃู ุงูุฎุงุฏู ูุนูู (npm start)
2. ุชุญูู ูู ุฑูู ุงููุณู ูู ุงูู URL
3. ุฌุฑูุจ ุนูู ูุชุตูุญ ูุฎุชูู
```

### ุงููุดููุฉ: ุงูุฃุฑูุงู ุบูุฑ ุตุญูุญุฉ

**ุงูุญู:**
```
1. ุชุญูู ูู ุตูุบุฉ ุงูุจูุงูุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ุชุฃูุฏ ูู ุฃู ุงููููุงุณ ุตุญูุญ (0-10)
3. ุชุญูู ูู ุญุณุงุจุงุช ุงูุชูููู ูู backend/index.js
```

---

## ๐ ุงูุฏุนู

### ูููุงุช ูุงูุฉ:
- **Frontend**: `src/components/assessment/AssessmentGridRTL.tsx`
- **Backend**: `backend/index.js` (search: assessment-grid)
- **ุงูุตูุญุฉ**: `src/pages/StudentManagement.tsx`

### ููุงุฎุชุจุงุฑ:
```bash
node test-assessment-grid.cjs 1758447797026
```

### ุงูุณุฌูุงุช:
```bash
tail -f logs/backend.log
```

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

- [ ] ุงุฎุชุจุฑ ุดุงูู ููุจูุงูุงุช
- [ ] ุฅุถุงูุฉ ูุฒูุฏ ูู ุฎูุงุฑุงุช ุงูุชุตููุฉ
- [ ] ุฏุนู ุงูุชูุงุฑูุฑ ุงููุฎุตุตุฉ
- [ ] ุชุญุณููุงุช ุงูุฃุฏุงุก ููุจูุงูุงุช ุงููุจูุฑุฉ

---

**ุชู ุงูุฅุทูุงู ุจูุฌุงุญ! ๐**

ุขุฎุฑ ุชุญุฏูุซ: 2025-11-04
