# قائمة المهام (TODO)

تم التحديث: 2025-10-07

ملاحظة: هذه قائمة مركزية للمهام المتعلقة بإعداد الترحيلات والنسخ الاحتياطي وتنظيف المشروع.

1. تهيئة نظام الترحيل (Sequelize CLI)  
   - هدف: تمكين إنشاء/تشغيل/التراجع عن migrations بصيغة نصية قابلة للمراجعة.  
   - موقع: `attendance-system/backend`  
   - حالة: ⬜ مفتوح  
   - المالك: @nabil

2. إنشاء migration ابتدائي يعكس الـ schema الحالية  
   - هدف: توليد ملف migration أولي (baseline) أو ملفات منفصلة لتغييرات مثل إعادة تسمية `section_id` إلى `sectionId`.  
   - حالة: ⬜ مفتوح  
   - المالك: @nabil

3. تعطيل أي "auto-migrate" آلي عند تشغيل السيرفر  
   - هدف: منع تغييرات بنيوية على DB دون تسجيل migration نصي. ضبط `AUTO_MIGRATE=false` أو إزالة الكود الآلي في `attendance-system/backend/index.js`.  
   - حالة: ⬜ مفتوح  
   - المالك: @nabil

4. إنشاء migration نموذجي (مثال تعليمي)  
   - هدف: إضافة/حذف عمود أو إعادة تسمية عمود في جدول `Students` مع دوال `up` و `down`.  
   - حالة: ⬜ مفتوح  
   - المالك: @nabil

5. إضافة قواعد إلى `.gitignore`  
   - مطلوب: `classroom.db`, `auto_backups/`, `node_modules/`, `*.log`  
   - حالة: ✅ تم تنفيذ جزئياً (تم إضافة `classroom.db` و `auto_backups/`)  
   - المالك: @nabil

6. إنشاء سياسة نسخ احتياطي قابلة لإعادة التشغيل  
   - هدف: جدولة أوامر النسخ الاحتياطي (خدمة `automated_backup_service.cjs` أو Task Scheduler) وحفظ لقطات في `auto_backups/`.  
   - حالة: ⬜ مفتوح  
   - المالك: @nabil

7. تنظيف الملفات غير المتتبعة الكبيرة  
   - هدف: مراجعة نتائج `git clean -nd` ثم تشغيل `git clean -fd` بحذر لحذف الملفات غير الضرورية (build، ملفات Vite، مجلدات مؤقتة داخل `node_modules/.vite`).  
   - حالة: ⬜ مفتوح  
   - المالك: @nabil

8. توثيق سير العمل الخاص بالـ migrations والنسخ الاحتياطية  
   - هدف: إضافة قسم في README يشرح: كيفية إنشاء migration، تشغيل/التراجع، وكيفية استعادة نسخة DB من `auto_backups/`.  
   - حالة: ⬜ مفتوح  
   - المالك: @nabil

9. تشغيل اختبارات سريعة بعد ترحيل بنماذج (smoke tests)  
   - هدف: بعد تطبيق migration، تشغيل سكربت اختبار بسيط للتأكد من عمل CRUD على النماذج الأساسية.  
   - حالة: ⬜ مفتوح  
   - المالك: @nabil

10. (اختياري) تنظيف وإعادة تثبيت الحزم في الريبو الفرعي  
   - هدف: حذف `node_modules/` في `attendance-system/*` وإعادة `npm install` للحصول على شجرة نظيفة عند الحاجة.  
   - حالة: ⬜ مفتوح  
   - المالك: @nabil

---

إذا تريد إضافة أولوية أو جدولة زمنية لأي مهمة، قل لي أي مهمة تريد ترتيبها وسأحدّث الملف.

## مهام أثناء الحصة (In-class tasks)

هذه المهام مصممة لتسهيل عملك داخل الحصة دون التأثير على بيانات الإنتاج أو سير العمل العام. نؤجل التنفيذ الكامل لها إلى ما بعد الحصة.

- 1. تفعيل "وضع العرض" (Read-only) للـ DB أثناء العرض التقديمي
   - هدف: منع تغييرات غير مقصودة أثناء العرض. يمكن تعيين متغير بيئة `DB_PATH` إلى نسخة read-only أو تفعيل قاعدة بيانات مؤقتة.
   - حالة: ⬜ مفتوح

- 2. واجهة سريعة لإدخال درجات مؤقتة (Local draft)
   - هدف: تخزين التعديلات مؤقتًا في جدول `StudentAssessmentDrafts` أو في ذاكرة محلية ثم تطبيقها لاحقًا عبر migration أو عملية bulk commit.
   - حالة: ⬜ مفتوح

- 3. زر استرجاع فوري للدرس (Restore snapshot)
   - هدف: إنشاء نقطة استعادة سريعة قبل أي تعديل واسع: إنشاء سجل نسخة احتياطية للدرس المحدد فقط.
   - حالة: ⬜ مفتوح

- 4. لوحة مراقبة سريعة للدرجات (Quick audit)
   - هدف: صفحة تعرض آخر 20 تعديل في الدرجات (من، وقت، قيمة قديمة، قيمة جديدة) لسهولة المراجعة أثناء الحصة.
   - حالة: ⬜ مفتوح

- 5. ميزة تأكيد قبل الحفظ (Confirm on save)
   - هدف: مطالبة المدرس بتأكيد التغييرات (Yes/No) قبل كتابة أي تعديل نهائي على الـ DB.
   - حالة: ⬜ مفتوح

- 6. حفظ المسودات تلقائياً إلى `auto_backups/` عند الضغط على "نهاية الحصة"
   - هدف: أخذ لقطة من حالة الـ DB المتعلقة بالحصة فقط (اختصار زمني) وتخزينها في `auto_backups/` دون تتبع في Git.
   - حالة: ⬜ مفتوح
